(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{76:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return s})),a.d(t,"metadata",(function(){return o})),a.d(t,"toc",(function(){return i})),a.d(t,"default",(function(){return p}));var n=a(3),b=a(7),l=(a(0),a(86)),s={id:"endpoints",title:"Endpoints"},o={unversionedId:"endpoints",id:"endpoints",isDocsHomePage:!1,title:"Endpoints",description:"POST /remove-noise",source:"@site/docs/endpoints.md",slug:"/endpoints",permalink:"/endpoints",version:"current",sidebar:"sidebar",previous:{title:"Audo AI Docs",permalink:"/"},next:{title:"Python API",permalink:"/python-api"}},i=[],c={toc:i};function p(e){var t=e.components,a=Object(b.a)(e,["components"]);return Object(l.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("div",{style:{display:"inline"}},Object(l.b)("h2",{style:{display:"inline",paddingRight:10}},"POST /remove-noise "),Object(l.b)("div",{style:{color:"#bbbbbb",display:"inline"}},Object(l.b)("i",null,"https://api.audo.ai/v1/remove-noise"),Object(l.b)("br",null))),Object(l.b)("div",{style:{height:14}}),Object(l.b)("p",null,"Submit an audio file to the API for noise removal."),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Form data: ",Object(l.b)("inlineCode",{parentName:"li"},"file=@path/to/file.wav")),Object(l.b)("li",{parentName:"ul"},"Optional Url params:",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"outputExt")," - used to define the extension of the output file. defaults to ",Object(l.b)("inlineCode",{parentName:"li"},".wav")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"outputUrl")," - Function like a webhook. If provided, we'll make a ",Object(l.b)("inlineCode",{parentName:"li"},"PUT")," request with your processed audio, to a pre-signed url on paltforms like AWS or GCP.")))),Object(l.b)("p",null,"Response:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{\n  "jobId": "string"\n}\n')),Object(l.b)("details",null,Object(l.b)("summary",{style:{paddingBottom:20}},"Example"),Object(l.b)("p",null,Object(l.b)("p",null,"Simple example:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://api.audo.ai/v1/remove-noise" -F "file=@myaudio.wav" -H "x-api-key: $AUDO_API_KEY"\n')),Object(l.b)("p",null,"Remove noise from a video:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://api.audo.ai/v1/remove-noise?outputExt=mp4" -F "file=@myvideo.mp4" -H "x-api-key: $AUDO_API_KEY"\n')),Object(l.b)("p",null,"Convert between audio formats:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://api.audo.ai/v1/remove-noise?outputExt=mp3" -F "file=@myaudio.ogg" -H "x-api-key: $AUDO_API_KEY"\n')),Object(l.b)("p",null,"Webhook to a pre-signed URL:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://api.audo.ai/v1/remove-noise?outputUrl=s3://bucket_b/output_file.mp3" -F "file=@myaudio.mp3" -H "x-api-key: $AUDO_API_KEY"\n')),Object(l.b)("p",null,"See how to get the result from the job ID below."))),Object(l.b)("div",{style:{display:"inline"}},Object(l.b)("h2",{style:{display:"inline",paddingRight:10}},"GET /remove-noise/<jobId>/status "),Object(l.b)("div",{style:{color:"#bbbbbb",display:"inline"}},Object(l.b)("i",null,"https://api.audo.ai/v1/remove-noise/<jobId>/status"),Object(l.b)("br",null))),Object(l.b)("div",{style:{height:14}}),Object(l.b)("p",null,"Retrieve the status of a job. Response possibilities:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{"state": "queued", "jobsAhead": <number>}\n')),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{"state": "in_progress", "percent": <number>}\n')),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{ "state": "succeeded", "processedPath": "<processedPath>" }\n')),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{ "state": "failed", "reason": "<reason>" }\n')),Object(l.b)("details",null,Object(l.b)("summary",{style:{paddingBottom:10}},"Example"),Object(l.b)("p",null,Object(l.b)("p",null,"Here is an example:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},'JOB_ID=be1e2138-433d-4278-8a79-698dfbab9168\ncurl -X GET "https://api.audo.ai/v1/remove-noise/$JOB_ID/status" -H "x-api-key: $AUDO_API_KEY"\n')),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{\n  "state": "succeeded",\n  "processedPath": "dl/artifacts/clean/audo_enhanced_d29940ad-feb8-4187-8b31-e5778ef9ad1c.mp3"\n}\n')),Object(l.b)("p",null,"So, now we would be able to download our file by prepending ",Object(l.b)("inlineCode",{parentName:"p"},"https://api.audo.ai/v1/"),":"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},"curl -O https://api.audo.ai/v1/dl/artifacts/clean/audo_enhanced_d29940ad-feb8-4187-8b31-e5778ef9ad1c.mp3\n")))),Object(l.b)("div",{style:{display:"inline"}},Object(l.b)("h2",{style:{display:"inline",paddingRight:10}},"WEBSOCKET /wss/remove-noise/<jobId>/status "),Object(l.b)("div",{style:{color:"#bbbbbb",display:"inline"}},Object(l.b)("i",null,"ws://api.audo.ai/v1/wss/remove-noise/<jobId>/status"),Object(l.b)("br",null))),Object(l.b)("div",{style:{height:14}}),Object(l.b)("p",null,"Retrieve the status of a job in realtime without polling. This is a completely optional alternative method to find the status of a job."),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Message format: Each message is a json encoded object in the exact same representation as the endpoint above:")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{"state": "queued", "jobsAhead": <number>}\n')),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{"state": "in_progress", "percent": <number>}\n')),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{ "state": "succeeded", "processedPath": "<processedPath>" }\n')),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{ "state": "failed", "reason": "<reason>" }\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Finally, don't forget to include the authentication header when connecting via ",Object(l.b)("inlineCode",{parentName:"li"},"x-api-key: $AUDO_API_KEY"),".")),Object(l.b)("details",null,Object(l.b)("summary",{style:{paddingBottom:10}},"Example"),Object(l.b)("p",null,Object(l.b)("p",null,"Here is an example that uses ",Object(l.b)("a",{parentName:"p",href:"https://github.com/vi/websocat"},"websocat"),":"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},'JOB_ID=be1e2138-433d-4278-8a79-698dfbab9168\nwebsocat "wss://api.audo.ai/v1/wss/remove-noise/$JOB_ID/status" -H "x-api-key: $AUDO_API_KEY"\n')),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{"state": "queued", "jobsAhead": 0}\n{"state": "in_progress", "percent": 10}\n{"state": "in_progress", "percent": 18}\n{"state": "in_progress", "percent": 20}\n// ...\n{"state": "in_progress", "percent": 95}\n{"state": "in_progress", "percent": 98}\n{"state": "in_progress", "percent": 100}\n{"state": "succeeded", "processedPath": "dl/artifacts/clean/audo_enhanced_7c9e10b3-96ca-4904-aecf-ce815339c859.wav"}\n')),Object(l.b)("p",null,"So, same as before, we can now download our file by prepending ",Object(l.b)("inlineCode",{parentName:"p"},"https://api.audo.ai/v1/"),":"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-bash"},"curl -O https://api.audo.ai/v1/dl/artifacts/clean/audo_enhanced_7c9e10b3-96ca-4904-aecf-ce815339c859.wav\n")))))}p.isMDXComponent=!0}}]);