(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{64:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return r})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return c}));var o=n(3),i=n(7),a=(n(0),n(86)),s={id:"http-api",title:"HTTP API"},r={unversionedId:"http-api",id:"http-api",isDocsHomePage:!1,title:"HTTP API",description:"If we want to remove noise in a language other than Python, the basic process is as follows:",source:"@site/docs/http-api.md",slug:"/http-api",permalink:"/http-api",version:"current",sidebar:"sidebar",previous:{title:"Python API",permalink:"/python-api"}},l=[],p={toc:l};function c(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"If we want to remove noise in a language other than Python, the basic process is as follows:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"POST /v1/remove-noise")," with our audio file (authenticated with our API key)"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"GET /v1/remove-noise/<job-id>/status")," until we see ",Object(a.b)("inlineCode",{parentName:"li"},'{"state": "succeeded", "processedUrl": "<processedUrl>"}')),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"GET <processedUrl>")," to download the processed audio file with noise removed")),Object(a.b)("p",null,"Here is a complete example of how we do this using ",Object(a.b)("inlineCode",{parentName:"p"},"curl")," and ",Object(a.b)("inlineCode",{parentName:"p"},"jq")," (in Ubuntu, ",Object(a.b)("inlineCode",{parentName:"p"},"sudo apt-get install -y curl jq"),"):"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},'\nAUDO_API_KEY=abc123  # Replace with your own key\nAUDIO_FILE_NAME=audio.wav  # Replace with your audio filename (relative to current dir)\nOUTPUT_FILE_NAME=processed.wav  # What we will save the noise-removed file to\n\n# Submit the audio file\njobInfo=$(curl -X POST "https://api.audo.ai/v1/remove-noise" -F "file=@$AUDIO_FILE_NAME" -H "Authorization: Bearer $AUDO_API_KEY")\necho "$jobInfo"\njobId=$(jq -r \'.jobId\' <<< $jobInfo)\n\n# Wait until it\'s finished processing\nstate=""\nwhile [ "$state" != "succeeded" ]; do\n    sleep 0.5\n    status=$(curl "https://api.audo.ai/v1/remove-noise/$jobId/status")\n    state=$(jq -r \'.state\' <<< $status)\ndone\n\n# Download the processed audio file\nprocessedUrl=$(jq \'.processedUrl\' <<< $status)\ncurl "$processedUrl" > "$OUTPUT_FILE_NAME"\n\n')))}c.isMDXComponent=!0}}]);